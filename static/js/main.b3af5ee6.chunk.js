(this["webpackJsonpflappy-bird-app"]=this["webpackJsonpflappy-bird-app"]||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var s,i,c,a=r(1),n=r(0),p=r.n(n),o=r(14),u=r.n(o),d=r(10),l=r(3),j=r(4),f=r(11),b=Object(f.b)({name:"birdReducer",initialState:{birdPosX:20,birdPosY:100},reducers:{fallBird:function(e){e.birdPosY+=4},flyBird:function(e){e.birdPosY-=30},setStartPosForBird:function(e){e.birdPosX=20,e.birdPosY=100}}}),m=b.actions,O=m.fallBird,h=m.flyBird,x=m.setStartPosForBird,g=b.reducer,v=Object(f.b)({name:"pipesReducer",initialState:{arrayOfPipes:[],gameFieldHeight:394,gameFieldWidth:288,pipeWidth:50,pipeGap:100},reducers:{addNewPipe:function(e){var t=Math.floor(394*Math.random())-100;t<0&&(t=0);var r=e.gameFieldWidth,s=e.gameFieldHeight;e.arrayOfPipes.push({pipeHeightTop:t,pipeHeightBottom:s-t,pipeWidth:e.pipeWidth,pipePosX:r})},movePipes:function(e){e.arrayOfPipes.map((function(e){return e.pipePosX-=1}))},deleteItemFromArrayOfPipes:function(e){e.arrayOfPipes=[]}}}),N=v.actions,P=N.addNewPipe,y=N.movePipes,S=N.deleteItemFromArrayOfPipes,R=v.reducer,B=Object(f.b)({name:"gameReducer",initialState:{status:"stop",userName:null,userScore:0,userListTopScore:[]},reducers:{changeGameStatus:function(e,t){e.status=t.payload},getUserName:function(e,t){e.userName=t.payload},getUserScore:function(e){e.userScore+=1},setUserScoreToDefault:function(e){e.userScore=0},setUserListTopScore:function(e){e.userListTopScore.push({userName:e.userName,score:e.userScore})}}}),T=B.actions,F=T.changeGameStatus,_=T.getUserName,H=T.getUserScore,L=T.setUserListTopScore,w=T.setUserScoreToDefault,X=B.reducer,I=Object(f.b)({name:"lifesReducer",initialState:{lifes:3},reducers:{decreaseBirdLife:function(e){e.lifes-=1},setDefaultBirdLife:function(e){e.lifes=3}}}),U=I.actions,W=U.decreaseBirdLife,G=U.setDefaultBirdLife,Y=I.reducer,E=Object(f.a)({reducer:{birdReducer:g,pipesReducer:R,gameReducer:X,lifesReducer:Y}}),k=(r(33),r(34),function(){var e=Object(l.c)(),t=Object(l.d)((function(e){var t=e.birdReducer,r=t.birdPosX,s=t.birdPosY,i=e.pipesReducer;return{birdPosX:r,birdPosY:s,arrayOfPipes:i.arrayOfPipes,gameFieldHeight:i.gameFieldHeight,pipeGap:i.pipeGap,lifes:e.lifesReducer.lifes}}),l.b),r=t.birdPosX,s=t.birdPosY,i=t.arrayOfPipes,c=t.gameFieldHeight,p=t.pipeGap,o=t.lifes;return Object(n.useEffect)((function(){document.addEventListener("keypress",(function(t){32===t.keyCode&&e(h())}))}),[]),Object(n.useEffect)((function(){(s<0||s+30>c)&&e(F("next try")),o>0?i.map((function(t){r+30>=t.pipePosX&&r+30<=t.pipePosX+t.pipeWidth&&(s<=t.pipeHeightTop||s+30>=t.pipeHeightTop+p)&&(e(S()),e(F("next try")))})):e(F("game over"))}),[s,o]),Object(a.jsx)("div",{className:"app-bird",style:{top:s+"px",left:r+"px"}})}),D=p.a.memo(k),A=(r(35),function(){var e=Object(l.d)((function(e){return{arrayOfPipes:e.pipesReducer.arrayOfPipes}}),l.b).arrayOfPipes.map((function(e,t){return Object(a.jsxs)(p.a.Fragment,{children:[Object(a.jsx)("div",{className:"pipes-top",style:{height:e.pipeHeightTop+"px",left:e.pipePosX+"px",width:e.pipeWidth+"px"}}),Object(a.jsx)("div",{className:"pipes-bottom",style:{height:e.pipeHeightBottom+"px",left:e.pipePosX+"px",width:e.pipeWidth+"px"}})]},t)}));return Object(a.jsx)("div",{className:"pipes",children:e})}),C=(r(36),r(37),function(){var e=Object(l.d)((function(e){return{lifes:e.lifesReducer.lifes}}),l.b).lifes,t=new Array(e).fill(null).map((function(e,t){return Object(a.jsx)("div",{className:"app-lifes__item",children:"\u2764"},t)}));return Object(a.jsx)("div",{className:"app-lifes",children:t})}),J=function(){var e=Object(l.d)((function(e){var t=e.gameReducer;return{userScore:t.userScore,userName:t.userName}})),t=e.userScore,r=e.userName;return Object(a.jsxs)("div",{className:"app-bottom-image",children:[Object(a.jsxs)("div",{className:"app-game-user",children:[Object(a.jsx)("div",{className:"app-game-userName",children:r}),Object(a.jsxs)("div",{className:"app-game-userScore",children:["Score ",t]})]}),Object(a.jsx)(C,{})]})},M=p.a.memo(J),q=function(){var e=Object(j.f)(),t=Object(l.d)((function(e){return{status:e.gameReducer.status,lifes:e.lifesReducer.lifes}}),l.b),r=t.status,p=t.lifes,o=Object(l.c)();return Object(n.useEffect)((function(){"next try"===r&&(o(F("start")),o(x()),o(W()),o(p>1?w():L())),"game over"===r&&(o(S()),o(F("start")),o(G()),clearInterval(i),clearInterval(c),clearInterval(s),e.push("/top-score"))}),[r,p]),Object(n.useEffect)((function(){o(P()),s=setInterval((function(){o(y()),o(H())}),50),i=setInterval((function(){o(P())}),8e3),c=setInterval((function(){o(O())}),50)}),[]),Object(a.jsxs)("div",{className:"app-game-field",children:[Object(a.jsx)(D,{}),Object(a.jsx)(A,{}),Object(a.jsx)(M,{})]})},z=p.a.memo(q),K=(r(39),function(){return Object(a.jsxs)("div",{className:"app-start-page",children:[Object(a.jsx)("h2",{children:"Flappy Bird"}),Object(a.jsx)("div",{className:"start-page__list-wrapper",children:Object(a.jsxs)("ul",{className:"start-page__list",children:[Object(a.jsx)("li",{className:"start-page__list-item",children:Object(a.jsx)(d.b,{to:"/create-user",children:"New Game"})}),Object(a.jsx)("li",{className:"start-page__list-item",children:Object(a.jsx)(d.b,{to:"/top-score",children:"Top Score"})})]})})]})}),Q=(r(40),function(){var e=Object(l.d)((function(e){return{userListTopScore:e.gameReducer.userListTopScore}}),l.b).userListTopScore.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{children:["User: ",e.userName]}),Object(a.jsxs)("div",{children:["Score: ",e.score]})]},t)}));return Object(a.jsxs)("div",{className:"app-game-score",children:[Object(a.jsx)("h2",{className:"app-game-score__title",children:"Top score"}),Object(a.jsxs)("ul",{className:"app-game-score-list",children:[" ",e]}),Object(a.jsx)("div",{className:"app-game-score-btn__wrapper",children:Object(a.jsx)("button",{className:"app-game-score-btn",children:Object(a.jsx)(d.b,{to:"/",children:"Home"})})})]})}),V=r(21),Z=(r(41),function(){var e=Object(j.f)(),t=Object(n.useState)(),r=Object(V.a)(t,2),s=r[0],i=r[1],c=Object(n.useState)(!1),p=Object(V.a)(c,2),o=p[0],u=p[1],d=Object(l.c)(),f=o?Object(a.jsx)("div",{className:"app-user-error",children:"Please,enter your username"}):null;return Object(a.jsxs)("div",{className:"app-create-user",children:[Object(a.jsx)("h2",{children:"Flappy Bird"}),Object(a.jsx)("input",{type:"text",className:"app-username",onChange:function(e){i(e.target.value)},placeholder:"Please type in your name"}),f,Object(a.jsx)("button",{className:"app-start-game",onClick:function(t){if(!s)return u(!o),void t.preventDefault();u(!o),d(_(s)),e.push("/game")},children:"Start New game"})]})}),$=(r(42),function(){var e=Object(j.f)();return location.reload&&e.push("/"),Object(a.jsx)(l.a,{store:E,children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:K}),Object(a.jsx)(j.a,{path:"/create-user",component:Z}),Object(a.jsx)(j.a,{path:"/game",component:z}),Object(a.jsx)(j.a,{path:"/top-score",component:Q})]})})})})});u.a.render(Object(a.jsx)(d.a,{children:Object(a.jsx)($,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b3af5ee6.chunk.js.map